<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1,user-scalable=no">
<title>Chat</title>

<meta name="mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">

<style>
:root {
  --bg:#111b21;
  --hdr:#202c33;
  --chat:#0b141a;
  --sent:#005c4b;
  --rcv:#202c33;
  --txt:#e9edef;
  --sub:#8696a0;
  --acc:#00a884;
}

*{
  margin:0;padding:0;box-sizing:border-box;
  font-family:system-ui,sans-serif;
  user-select:none;
  touch-action:pan-y;
}

html,body{
  height:100%;width:100%;
  overflow:hidden;
  position:fixed;
  background:var(--bg);
}

.phone-container{
  width:100%;
  height:100vh; /* ✅ ONLY CHANGE FOR MOBILE MESSAGE SPACE SUPPORT */
  max-width:450px;
  margin:auto;
  background:var(--chat);
  display:flex;
  flex-direction:column;
}

header{
  background:var(--hdr);
  padding:10px 14px;
  display:flex;
  align-items:center;
  color:var(--txt);
}

.avatar{
  width:40px;height:40px;border-radius:50%;
  background:var(--acc);
  display:flex;align-items:center;justify-content:center;
  font-weight:600;color:#fff;margin-right:12px;
}

.user-info h4{font-size:16px;}
#status-text{font-size:12px;color:var(--sub);}

.chat-area{
  flex:1;
  padding:18px 14px;
  overflow-y:auto;
  display:flex;
  flex-direction:column;
  gap:9px;
  scrollbar-width:none;
}

.chat-area::-webkit-scrollbar{display:none;}

.message{
  padding:8px 12px;
  border-radius:8px;
  font-size:14px;
  color:var(--txt);
  max-width:74%;
  animation:fadeIn .25s ease;
  box-shadow:0 1px .5px rgba(0,0,0,0.15);
}

.sent{
  background:var(--sent);
  align-self:flex-end;
  border-top-right-radius:2px;
}

.received{
  background:var(--rcv);
  align-self:flex-start;
  border-top-left-radius:2px;
}

.timestamp{
  display:block;
  text-align:right;
  font-size:10px;
  color:rgba(255,255,255,0.5);
  margin-top:3px;
}

.continue-link{
  display:block;
  margin-top:8px;
  padding:7px 12px;
  background:var(--acc);
  text-align:center;
  border-radius:18px;
  font-size:12px;
  text-decoration:none;
  color:#fff;
}

.input-area{
  background:var(--hdr);
  padding:10px;
  display:flex;
  align-items:center;
  border-top:1px solid rgba(255,255,255,0.1);
}

input{
  flex:1;
  padding:11px 14px;
  border-radius:20px;
  border:none;
  background:#2a3942;
  color:var(--txt);
  outline:none;
  font-size:15px;
}

.send-btn-icon{
  width:40px;height:40px;border-radius:50%;
  border:none;background:var(--acc);
  margin-left:10px;color:#fff;
  font-size:18px;cursor:pointer;
}

.send-btn-icon:active{transform:scale(.88);}

@keyframes fadeIn{
  from{opacity:0;transform:translateY(6px);}
  to{opacity:1;transform:none;}
}
</style>
</head>
<body>

<div class="phone-container">
<header>
  <div class="avatar">M</div>
  <div class="user-info">
    <h4>Loosu meow</h4>
    <p id="status-text">online</p>
  </div>
</header>

<div class="chat-area" id="chatArea">
  <div class="message received">
    Hey, type my name…
    <span class="timestamp">12:00 PM</span>
  </div>
</div>

<div class="input-area">
  <input id="msgInput" type="text" placeholder="Message" autocomplete="off">
  <button id="sendBtn" class="send-btn-icon">➤</button>
</div>
</div>

<script src="audio.js"></script>

<script>
// ✅ ONLY SCRIPT CHANGE FOR MOBILE: using correct chat area element
const music = document.getElementById("bg-music");
const chatArea = document.getElementById("chatArea");
const input = document.getElementById("msgInput");
const btn = document.getElementById("sendBtn");

function getAppTime(){
  return (new Date()).toLocaleTimeString([], {hour:'2-digit', minute:'2-digit'});
}

btn.onclick = () => {
  const t = input.value.trim();
  if(!t) return;

  const div = document.createElement("div");
  div.className = "message sent";
  div.innerHTML = t + `<span class="timestamp">${getAppTime()}</span>`;
  chatArea.appendChild(div);
  chatArea.scrollTop = chatArea.scrollHeight;

  input.value = "";

  if(music){
      music.muted = false;
      music.volume = 0.6;
      music.play().catch(() => console.log("Tap again"));
  }
};

// no zoom / no movement / static chat vibes stays same across pages
if(music) music.play().catch(()=>{});

</script>

</body>
</html>
